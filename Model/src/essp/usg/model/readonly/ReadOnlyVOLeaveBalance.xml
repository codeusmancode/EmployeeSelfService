<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="ReadOnlyVOLeaveBalance"
  Version="12.2.1.12.24"
  InheritPersonalization="merge"
  BindingStyle="OracleName"
  CustomQuery="true"
  PageIterMode="Full"
  FetchSize="6"
  QueryHint="FIRST_ROWS_6"
  FetchMode="FETCH_AS_NEEDED">
  <DesignTime>
    <Attr Name="_isExpertMode" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="essp.usg.model.readonly.ReadOnlyVOLeaveBalance_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="v_emp_id"
    Kind="where"
    Type="java.lang.String"/>
  <SQLQuery><![CDATA[select emp_id,  
       emp_code,  
       to_char(year,'yyyy') year,  
       from_date,  
       to_date,  
       decode(lv_type,'SL','Sick Leave (SL)','CL','Casual Leave (CL)') lv_type,  
       entitle_lvs,  
       availed,entitle_lvs-availed balance from leaves_bal where emp_id = :v_emp_id       
and to_char(year,'YYYY') = to_char(sysdate,'yyyy')      
and lv_type in ('SL','CL')      
union all      
select lba.emp_id,lba.emp_code,to_char(sysdate,'yyyy') year,lba.pl_from_date,lba.pl_to_date,'Privileged Leave (PL)' lv_type,lba.pl_e entitle_lvs,lba.pl_a availed,pl_e-lba.pl_a from LEAVES_BAL_all lba where emp_code = :v_emp_id]]></SQLQuery>
  <ViewAttribute
    Name="EmpId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigInteger"
    ColumnType="BIGINT"
    AliasName="EMP_ID"
    Expression="EMP_ID"
    SQLType="NUMERIC"/>
  <ViewAttribute
    Name="EmpCode"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="10"
    Scale="0"
    Type="java.lang.Long"
    ColumnType="NUMBER"
    AliasName="EMP_CODE"
    Expression="EMP_CODE"
    SQLType="NUMERIC"/>
  <ViewAttribute
    Name="Year"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="4"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="YEAR"
    Expression="YEAR"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="4"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="FromDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="FROM_DATE"
    Expression="FROM_DATE"
    SQLType="DATE"/>
  <ViewAttribute
    Name="ToDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="TO_DATE"
    Expression="TO_DATE"
    SQLType="DATE"/>
  <ViewAttribute
    Name="LvType"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="21"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="LV_TYPE"
    Expression="LV_TYPE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="21"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="EntitleLvs"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="5"
    Scale="2"
    Type="java.math.BigDecimal"
    ColumnType="NUMBER"
    AliasName="ENTITLE_LVS"
    Expression="ENTITLE_LVS"
    SQLType="NUMERIC">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="essp.usg.model.readonly.ReadOnlyVOLeaveBalance.EntitleLvs_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Availed"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="NUMBER"
    AliasName="AVAILED"
    Expression="AVAILED"
    SQLType="NUMERIC">
    <Properties>
      <SchemaBasedProperties>
        <LABEL
          ResId="essp.usg.model.readonly.ReadOnlyVOLeaveBalance.Availed_LABEL"/>
      </SchemaBasedProperties>
    </Properties>
  </ViewAttribute>
  <ViewAttribute
    Name="Balance"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.math.BigDecimal"
    ColumnType="NUMBER"
    AliasName="BALANCE"
    Expression="BALANCE"
    SQLType="NUMERIC"/>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="essp.usg.model.ModelBundle"/>
  </ResourceBundle>
</ViewObject>
